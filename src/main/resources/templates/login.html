<loginPin html>
    <html lang="en" xmlns:th="http://www.thymeleaf.org">
        <head>
            <meta charset="utf-8" />
            <meta
                name="viewport"
                content="width=device-width, initial-scale=1, shrink-to-fit=no"
            />
            <meta name="description" content="" />
            <meta name="author" content="" />
            <title>Restaurant App - Login</title>
            <!-- Favicon-->
            <!-- Font Awesome icons (free version)-->
            <script
                src="https://kit.fontawesome.com/144f4e017a.js"
                crossorigin="anonymous"
            ></script>
            <!-- Google fonts-->
            <link
                href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
                rel="stylesheet"
                type="text/css"
            />
            <link
                href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700"
                rel="stylesheet"
                type="text/css"
            />
            <!-- Core theme CSS (includes Bootstrap)-->
            <link
                rel="stylesheet"
                href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
                integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
                crossorigin="anonymous"
            />
            <link
                href="../static/css/styles.css"
                th:href="@{/css/styles.css}"
                rel="stylesheet"
            />
        </head>

        <body id="page-top">
            <!-- Navigation-->
            <nav
                class="navbar navbar-expand-lg navbar-dark fixed-top"
                id="mainNav"
            >
                <div class="container">
                    <a class="navbar-brand" href="#page-top">
                        <img th:src="@{/images/foodlogo.svg}" alt="..." />
                        Restaurant X</a
                    >
                </div>
            </nav>
            <!-- Masthead-->
            <header class="masthead">
                <div class="masthead-subheading">Welcome to our restaurant</div>
                <div class="container">
                    <p th:if="${loginError}" class="error">
                        Wrong user or password
                    </p>
                    <form
                        th:action="@{/login}"
                        method="POST"
                        id="loginForm"
                        class="form-floating mb-3"
                    >
                        <div class="col-md-4 mx-auto">
                            <div class="input-group has-validation">
                                <input id="username" name="username" hidden />
                                <input
                                    class="form-control"
                                    id="password"
                                    type="password"
                                    placeholder="enter pin"
                                    data-sb-validations="required"
                                    name="password"
                                    aria-describedby="inputGroupPrepend"
                                    required
                                />
                                <label for="enterPin"></label>
                                <br />
                                <br />
                            </div>
                            <input
                                type="submit"
                                class="btn btn-warning btn-xl text-uppercase"
                                href="#login"
                                value="login"
                            />
                        </div>
                    </form>
                </div>
            </header>

            <!-- Bootstrap core JS-->
            <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
            <script
                src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"
            ></script>
            <script
                src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"
            ></script>
            <script>
                // Example starter JavaScript for disabling form submissions if there are invalid fields
                (function () {
                    "use strict";

                    // Fetch all the forms we want to apply custom Bootstrap validation styles to
                    var forms = document.querySelectorAll(".needs-validation");

                    // Loop over them and prevent submission
                    Array.prototype.slice.call(forms).forEach(function (form) {
                        form.addEventListener(
                            "submit",
                            function (event) {
                                if (!form.checkValidity()) {
                                    event.preventDefault();
                                    event.stopPropagation();
                                }

                                form.classList.add("was-validated");
                            },
                            false
                        );
                    });
                })();
                let text = "";

                $("#password").keyup(function (e) {
                    if (!(e.key == "Backspace" || e.key == "Delete")) {
                        text += e.key;
                    } else {
                        text = text.substring(0, text.length - 1);
                    }
                    console.log(text);
                    $("#username").val(text);
                });
            </script>
        </body>
    </html>
</loginPin>
